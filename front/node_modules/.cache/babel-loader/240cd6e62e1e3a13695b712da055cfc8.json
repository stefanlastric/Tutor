{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _HourInput = require('./TimeInput/HourInput');\n\nvar _HourInput2 = _interopRequireDefault(_HourInput);\n\nvar _MinuteInput = require('./TimeInput/MinuteInput');\n\nvar _MinuteInput2 = _interopRequireDefault(_MinuteInput);\n\nvar _SecondInput = require('./TimeInput/SecondInput');\n\nvar _SecondInput2 = _interopRequireDefault(_SecondInput);\n\nvar _NativeInput = require('./TimeInput/NativeInput');\n\nvar _NativeInput2 = _interopRequireDefault(_NativeInput);\n\nvar _dateFormatter = require('./shared/dateFormatter');\n\nvar _dates = require('./shared/dates');\n\nvar _locales = require('./shared/locales');\n\nvar _propTypes3 = require('./shared/propTypes');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar allViews = ['hour', 'minute', 'second'];\n\nvar hoursAreDifferent = function hoursAreDifferent(date1, date2) {\n  return date1 && !date2 || !date1 && date2 || date1 && date2 && date1 !== date2 // TODO: Compare 11:22:00 and 11:22 properly\n  ;\n};\n\nvar findPreviousInput = function findPreviousInput(element) {\n  var previousElement = element.previousElementSibling; // Divider between inputs\n\n  if (!previousElement) {\n    return null;\n  }\n\n  return previousElement.previousElementSibling; // Actual input\n};\n\nvar findNextInput = function findNextInput(element) {\n  var nextElement = element.nextElementSibling; // Divider between inputs\n\n  if (!nextElement) {\n    return null;\n  }\n\n  return nextElement.nextElementSibling; // Actual input\n};\n\nvar selectIfPossible = function selectIfPossible(element) {\n  if (!element) {\n    return;\n  }\n\n  element.focus();\n  element.select();\n};\n\nvar removeUnwantedCharacters = function removeUnwantedCharacters(str) {\n  return str.split('').filter(function (a) {\n    return (// We don't want spaces in dates\n      a.charCodeAt(0) !== 32 && // Internet Explorer specific\n      a.charCodeAt(0) !== 8206\n    );\n  }).join('');\n};\n\nvar TimeInput = function (_Component) {\n  _inherits(TimeInput, _Component);\n\n  function TimeInput() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, TimeInput);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = TimeInput.__proto__ || Object.getPrototypeOf(TimeInput)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      hour: null,\n      minute: null,\n      second: null\n    }, _this.onKeyDown = function (event) {\n      switch (event.key) {\n        case 'ArrowLeft':\n          {\n            event.preventDefault();\n            var input = event.target;\n            var previousInput = findPreviousInput(input);\n            selectIfPossible(previousInput);\n            break;\n          }\n\n        case 'ArrowRight':\n        case _this.divider:\n          {\n            event.preventDefault();\n            var _input = event.target;\n            var nextInput = findNextInput(_input);\n            selectIfPossible(nextInput);\n            break;\n          }\n\n        default:\n      }\n    }, _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, parseInt(event.target.value, 10)), _this.onChangeExternal);\n    }, _this.onChangeNative = function (event) {\n      var value = event.target.value;\n\n      if (_this.props.onChange) {\n        _this.props.onChange(value);\n      }\n    }, _this.onChangeExternal = function () {\n      if (_this.props.onChange) {\n        var formElements = [_this.hourInput, _this.minuteInput, _this.secondInput].filter(Boolean);\n        var values = {};\n        formElements.forEach(function (formElement) {\n          values[formElement.name] = formElement.value;\n        });\n\n        if (formElements.every(function (formElement) {\n          return formElement.value && formElement.checkValidity();\n        })) {\n          var timeString = ('0' + values.hour).slice(-2) + ':' + ('0' + (values.minute || 0)).slice(-2) + ':' + ('0' + (values.second || 0)).slice(-2);\n\n          var processedValue = _this.getProcessedValue(timeString);\n\n          _this.props.onChange(processedValue, false);\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(TimeInput, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      (0, _locales.setLocale)(this.props.locale);\n      this.updateValues();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var props = this.props;\n      var nextValue = nextProps.value;\n      var value = this.props.value;\n\n      if (nextProps.locale !== props.locale) {\n        (0, _locales.setLocale)(nextProps.locale);\n      }\n\n      if ( // Toggling clock visibility resets values\n      nextProps.isClockOpen !== props.isClockOpen || hoursAreDifferent(nextValue, value)) {\n        this.updateValues(nextProps);\n      }\n    }\n    /**\n     * Gets current value in a desired format.\n     */\n\n  }, {\n    key: 'getProcessedValue',\n    value: function getProcessedValue(value) {\n      var nativeValueParser = this.nativeValueParser;\n      return nativeValueParser(value);\n    }\n    /**\n     * Returns value type that can be returned with currently applied settings.\n     */\n\n  }, {\n    key: 'updateValues',\n    value: function updateValues() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var value = props.value;\n      this.setState({\n        hour: value ? (0, _dates.getHours)(value) : null,\n        minute: value ? (0, _dates.getMinutes)(value) : null,\n        second: value ? (0, _dates.getSeconds)(value) : null\n      });\n    }\n    /**\n     * Called when non-native date input is changed.\n     */\n\n    /**\n     * Called when native date input is changed.\n     */\n\n    /**\n     * Called after internal onChange. Checks input validity. If all fields are valid,\n     * calls props.onChange.\n     */\n\n  }, {\n    key: 'renderHour',\n    value: function renderHour() {\n      return _react2.default.createElement(_HourInput2.default, _extends({\n        key: 'hour',\n        value: this.state.hour\n      }, this.commonInputProps));\n    }\n  }, {\n    key: 'renderMinute',\n    value: function renderMinute() {\n      var maxDetail = this.props.maxDetail; // Do not display if maxDetail is \"hour\" or less\n\n      if (allViews.indexOf(maxDetail) < 1) {\n        return null;\n      }\n\n      return _react2.default.createElement(_MinuteInput2.default, _extends({\n        key: 'minute',\n        maxDetail: this.props.maxDetail,\n        value: this.state.minute\n      }, this.commonInputProps));\n    }\n  }, {\n    key: 'renderSecond',\n    value: function renderSecond() {\n      var maxDetail = this.props.maxDetail; // Do not display if maxDetail is \"minute\" or less\n\n      if (allViews.indexOf(maxDetail) < 2) {\n        return null;\n      }\n\n      return _react2.default.createElement(_SecondInput2.default, _extends({\n        key: 'second',\n        maxDetail: this.props.maxDetail,\n        value: this.state.second\n      }, this.commonInputProps));\n    }\n  }, {\n    key: 'renderCustomInputs',\n    value: function renderCustomInputs() {\n      var _this2 = this;\n\n      var divider = this.divider,\n          dividerElement = this.dividerElement,\n          placeholder = this.placeholder;\n      return placeholder.split(divider).map(function (part) {\n        switch (part) {\n          case 'hour-24':\n            return _this2.renderHour();\n\n          case 'hour-12':\n            return _this2.renderHour();\n\n          case 'minute':\n            return _this2.renderMinute();\n\n          case 'second':\n            return _this2.renderSecond();\n\n          case 'ampm':\n            return null;\n          // TODO\n\n          default:\n            return null;\n        }\n      }).filter(Boolean).reduce(function (result, element, index, array) {\n        result.push(element);\n\n        if (index + 1 < array.length) {\n          // eslint-disable-next-line react/no-array-index-key\n          result.push(_react2.default.cloneElement(dividerElement, {\n            key: 'separator_' + index\n          }));\n        }\n\n        return result;\n      }, []);\n    }\n  }, {\n    key: 'renderNativeInput',\n    value: function renderNativeInput() {\n      return _react2.default.createElement(_NativeInput2.default, {\n        key: 'time',\n        maxTime: this.props.maxTime,\n        minTime: this.props.minTime,\n        onChange: this.onChangeNative,\n        required: this.props.required,\n        value: this.props.value,\n        valueType: this.valueType\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('div', {\n        className: 'react-time-picker__button__input'\n      }, this.renderNativeInput(), this.renderCustomInputs());\n    }\n  }, {\n    key: 'valueType',\n    get: function get() {\n      var maxDetail = this.props.maxDetail;\n      return maxDetail;\n    }\n  }, {\n    key: 'nativeValueParser',\n    get: function get() {\n      switch (this.valueType) {\n        case 'hour':\n        case 'minute':\n          return _dates.getHoursMinutes;\n\n        case 'second':\n          return _dates.getHoursMinutesSeconds;\n\n        default:\n          throw new Error('Invalid valueType.');\n      }\n    } // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: 'divider',\n    get: function get() {\n      var date = new Date(2017, 0, 1, 21, 12, 13);\n      return removeUnwantedCharacters((0, _dateFormatter.formatTime)(date)).match(/[^0-9]/)[0];\n    }\n  }, {\n    key: 'dividerElement',\n    get: function get() {\n      return _react2.default.createElement('span', {\n        className: 'react-time-picker__button__input__divider'\n      }, this.divider);\n    } // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: 'placeholder',\n    get: function get() {\n      var date = new Date(2017, 0, 1, 21, 13, 14);\n      return removeUnwantedCharacters((0, _dateFormatter.formatTime)(date)).replace('21', 'hour-24').replace('9', 'hour-12').replace('13', 'minute').replace('14', 'second').replace(/AM|PM/, this.divider + 'ampm');\n    }\n  }, {\n    key: 'commonInputProps',\n    get: function get() {\n      var _this3 = this;\n\n      return {\n        maxTime: this.props.maxTime,\n        minTime: this.props.minTime,\n        onChange: this.onChange,\n        onKeyDown: this.onKeyDown,\n        placeholder: '--',\n        // This is only for showing validity when editing\n        required: this.props.required || this.props.isClockOpen,\n        itemRef: function itemRef(ref) {\n          if (!ref) return; // Save a reference to each input field\n\n          _this3[ref.name + 'Input'] = ref;\n        }\n      };\n    }\n  }]);\n\n  return TimeInput;\n}(_react.Component);\n\nexports.default = TimeInput;\nTimeInput.defaultProps = {\n  maxDetail: 'minute'\n};\nTimeInput.propTypes = {\n  isClockOpen: _propTypes2.default.bool,\n  locale: _propTypes2.default.string,\n  maxDetail: _propTypes2.default.oneOf(allViews),\n  maxTime: _propTypes3.isTime,\n  minTime: _propTypes3.isTime,\n  onChange: _propTypes2.default.func,\n  required: _propTypes2.default.bool,\n  value: _propTypes2.default.oneOfType([_propTypes3.isTime, _propTypes2.default.instanceOf(Date)])\n};","map":{"version":3,"sources":["/home/stefan/Desktop/APLIKACIJA/front/node_modules/react-time-picker/dist/TimeInput.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_HourInput","_HourInput2","_MinuteInput","_MinuteInput2","_SecondInput","_SecondInput2","_NativeInput","_NativeInput2","_dateFormatter","_dates","_locales","_propTypes3","obj","__esModule","default","_defineProperty","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","allViews","hoursAreDifferent","date1","date2","findPreviousInput","element","previousElement","previousElementSibling","findNextInput","nextElement","nextElementSibling","selectIfPossible","focus","select","removeUnwantedCharacters","str","split","filter","a","charCodeAt","join","TimeInput","_Component","_ref","_temp","_this","_ret","_len","args","Array","_key","getPrototypeOf","apply","concat","state","hour","minute","second","onKeyDown","event","preventDefault","input","previousInput","divider","_input","nextInput","onChange","setState","name","parseInt","onChangeExternal","onChangeNative","formElements","hourInput","minuteInput","secondInput","Boolean","values","forEach","formElement","every","checkValidity","timeString","slice","processedValue","getProcessedValue","componentWillMount","setLocale","locale","updateValues","componentWillReceiveProps","nextProps","nextValue","isClockOpen","nativeValueParser","undefined","getHours","getMinutes","getSeconds","renderHour","createElement","commonInputProps","renderMinute","maxDetail","indexOf","renderSecond","renderCustomInputs","_this2","dividerElement","placeholder","map","part","reduce","result","index","array","push","cloneElement","renderNativeInput","maxTime","minTime","required","valueType","render","className","get","getHoursMinutes","getHoursMinutesSeconds","Error","date","Date","formatTime","match","replace","_this3","itemRef","ref","Component","defaultProps","propTypes","bool","string","oneOf","isTime","func","oneOfType","instanceOf"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _HourInput = require('./TimeInput/HourInput');\n\nvar _HourInput2 = _interopRequireDefault(_HourInput);\n\nvar _MinuteInput = require('./TimeInput/MinuteInput');\n\nvar _MinuteInput2 = _interopRequireDefault(_MinuteInput);\n\nvar _SecondInput = require('./TimeInput/SecondInput');\n\nvar _SecondInput2 = _interopRequireDefault(_SecondInput);\n\nvar _NativeInput = require('./TimeInput/NativeInput');\n\nvar _NativeInput2 = _interopRequireDefault(_NativeInput);\n\nvar _dateFormatter = require('./shared/dateFormatter');\n\nvar _dates = require('./shared/dates');\n\nvar _locales = require('./shared/locales');\n\nvar _propTypes3 = require('./shared/propTypes');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar allViews = ['hour', 'minute', 'second'];\n\nvar hoursAreDifferent = function hoursAreDifferent(date1, date2) {\n  return date1 && !date2 || !date1 && date2 || date1 && date2 && date1 !== date2 // TODO: Compare 11:22:00 and 11:22 properly\n  ;\n};\n\nvar findPreviousInput = function findPreviousInput(element) {\n  var previousElement = element.previousElementSibling; // Divider between inputs\n  if (!previousElement) {\n    return null;\n  }\n  return previousElement.previousElementSibling; // Actual input\n};\n\nvar findNextInput = function findNextInput(element) {\n  var nextElement = element.nextElementSibling; // Divider between inputs\n  if (!nextElement) {\n    return null;\n  }\n  return nextElement.nextElementSibling; // Actual input\n};\n\nvar selectIfPossible = function selectIfPossible(element) {\n  if (!element) {\n    return;\n  }\n  element.focus();\n  element.select();\n};\n\nvar removeUnwantedCharacters = function removeUnwantedCharacters(str) {\n  return str.split('').filter(function (a) {\n    return (\n      // We don't want spaces in dates\n      a.charCodeAt(0) !== 32 &&\n      // Internet Explorer specific\n      a.charCodeAt(0) !== 8206\n    );\n  }).join('');\n};\n\nvar TimeInput = function (_Component) {\n  _inherits(TimeInput, _Component);\n\n  function TimeInput() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, TimeInput);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = TimeInput.__proto__ || Object.getPrototypeOf(TimeInput)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      hour: null,\n      minute: null,\n      second: null\n    }, _this.onKeyDown = function (event) {\n      switch (event.key) {\n        case 'ArrowLeft':\n          {\n            event.preventDefault();\n\n            var input = event.target;\n            var previousInput = findPreviousInput(input);\n            selectIfPossible(previousInput);\n            break;\n          }\n        case 'ArrowRight':\n        case _this.divider:\n          {\n            event.preventDefault();\n\n            var _input = event.target;\n            var nextInput = findNextInput(_input);\n            selectIfPossible(nextInput);\n            break;\n          }\n        default:\n      }\n    }, _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, parseInt(event.target.value, 10)), _this.onChangeExternal);\n    }, _this.onChangeNative = function (event) {\n      var value = event.target.value;\n\n\n      if (_this.props.onChange) {\n        _this.props.onChange(value);\n      }\n    }, _this.onChangeExternal = function () {\n      if (_this.props.onChange) {\n        var formElements = [_this.hourInput, _this.minuteInput, _this.secondInput].filter(Boolean);\n\n        var values = {};\n        formElements.forEach(function (formElement) {\n          values[formElement.name] = formElement.value;\n        });\n\n        if (formElements.every(function (formElement) {\n          return formElement.value && formElement.checkValidity();\n        })) {\n          var timeString = ('0' + values.hour).slice(-2) + ':' + ('0' + (values.minute || 0)).slice(-2) + ':' + ('0' + (values.second || 0)).slice(-2);\n          var processedValue = _this.getProcessedValue(timeString);\n          _this.props.onChange(processedValue, false);\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(TimeInput, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      (0, _locales.setLocale)(this.props.locale);\n      this.updateValues();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var props = this.props;\n      var nextValue = nextProps.value;\n      var value = this.props.value;\n\n\n      if (nextProps.locale !== props.locale) {\n        (0, _locales.setLocale)(nextProps.locale);\n      }\n\n      if (\n      // Toggling clock visibility resets values\n      nextProps.isClockOpen !== props.isClockOpen || hoursAreDifferent(nextValue, value)) {\n        this.updateValues(nextProps);\n      }\n    }\n\n    /**\n     * Gets current value in a desired format.\n     */\n\n  }, {\n    key: 'getProcessedValue',\n    value: function getProcessedValue(value) {\n      var nativeValueParser = this.nativeValueParser;\n\n\n      return nativeValueParser(value);\n    }\n\n    /**\n     * Returns value type that can be returned with currently applied settings.\n     */\n\n  }, {\n    key: 'updateValues',\n    value: function updateValues() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var value = props.value;\n\n\n      this.setState({\n        hour: value ? (0, _dates.getHours)(value) : null,\n        minute: value ? (0, _dates.getMinutes)(value) : null,\n        second: value ? (0, _dates.getSeconds)(value) : null\n      });\n    }\n\n    /**\n     * Called when non-native date input is changed.\n     */\n\n\n    /**\n     * Called when native date input is changed.\n     */\n\n\n    /**\n     * Called after internal onChange. Checks input validity. If all fields are valid,\n     * calls props.onChange.\n     */\n\n  }, {\n    key: 'renderHour',\n    value: function renderHour() {\n      return _react2.default.createElement(_HourInput2.default, _extends({\n        key: 'hour',\n        value: this.state.hour\n      }, this.commonInputProps));\n    }\n  }, {\n    key: 'renderMinute',\n    value: function renderMinute() {\n      var maxDetail = this.props.maxDetail;\n\n      // Do not display if maxDetail is \"hour\" or less\n\n      if (allViews.indexOf(maxDetail) < 1) {\n        return null;\n      }\n\n      return _react2.default.createElement(_MinuteInput2.default, _extends({\n        key: 'minute',\n        maxDetail: this.props.maxDetail,\n        value: this.state.minute\n      }, this.commonInputProps));\n    }\n  }, {\n    key: 'renderSecond',\n    value: function renderSecond() {\n      var maxDetail = this.props.maxDetail;\n\n      // Do not display if maxDetail is \"minute\" or less\n\n      if (allViews.indexOf(maxDetail) < 2) {\n        return null;\n      }\n\n      return _react2.default.createElement(_SecondInput2.default, _extends({\n        key: 'second',\n        maxDetail: this.props.maxDetail,\n        value: this.state.second\n      }, this.commonInputProps));\n    }\n  }, {\n    key: 'renderCustomInputs',\n    value: function renderCustomInputs() {\n      var _this2 = this;\n\n      var divider = this.divider,\n          dividerElement = this.dividerElement,\n          placeholder = this.placeholder;\n\n\n      return placeholder.split(divider).map(function (part) {\n        switch (part) {\n          case 'hour-24':\n            return _this2.renderHour();\n          case 'hour-12':\n            return _this2.renderHour();\n          case 'minute':\n            return _this2.renderMinute();\n          case 'second':\n            return _this2.renderSecond();\n          case 'ampm':\n            return null; // TODO\n          default:\n            return null;\n        }\n      }).filter(Boolean).reduce(function (result, element, index, array) {\n        result.push(element);\n\n        if (index + 1 < array.length) {\n          // eslint-disable-next-line react/no-array-index-key\n          result.push(_react2.default.cloneElement(dividerElement, { key: 'separator_' + index }));\n        }\n\n        return result;\n      }, []);\n    }\n  }, {\n    key: 'renderNativeInput',\n    value: function renderNativeInput() {\n      return _react2.default.createElement(_NativeInput2.default, {\n        key: 'time',\n        maxTime: this.props.maxTime,\n        minTime: this.props.minTime,\n        onChange: this.onChangeNative,\n        required: this.props.required,\n        value: this.props.value,\n        valueType: this.valueType\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'react-time-picker__button__input' },\n        this.renderNativeInput(),\n        this.renderCustomInputs()\n      );\n    }\n  }, {\n    key: 'valueType',\n    get: function get() {\n      var maxDetail = this.props.maxDetail;\n\n      return maxDetail;\n    }\n  }, {\n    key: 'nativeValueParser',\n    get: function get() {\n      switch (this.valueType) {\n        case 'hour':\n        case 'minute':\n          return _dates.getHoursMinutes;\n        case 'second':\n          return _dates.getHoursMinutesSeconds;\n        default:\n          throw new Error('Invalid valueType.');\n      }\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: 'divider',\n    get: function get() {\n      var date = new Date(2017, 0, 1, 21, 12, 13);\n\n      return removeUnwantedCharacters((0, _dateFormatter.formatTime)(date)).match(/[^0-9]/)[0];\n    }\n  }, {\n    key: 'dividerElement',\n    get: function get() {\n      return _react2.default.createElement(\n        'span',\n        { className: 'react-time-picker__button__input__divider' },\n        this.divider\n      );\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: 'placeholder',\n    get: function get() {\n      var date = new Date(2017, 0, 1, 21, 13, 14);\n\n      return removeUnwantedCharacters((0, _dateFormatter.formatTime)(date)).replace('21', 'hour-24').replace('9', 'hour-12').replace('13', 'minute').replace('14', 'second').replace(/AM|PM/, this.divider + 'ampm');\n    }\n  }, {\n    key: 'commonInputProps',\n    get: function get() {\n      var _this3 = this;\n\n      return {\n        maxTime: this.props.maxTime,\n        minTime: this.props.minTime,\n        onChange: this.onChange,\n        onKeyDown: this.onKeyDown,\n        placeholder: '--',\n        // This is only for showing validity when editing\n        required: this.props.required || this.props.isClockOpen,\n        itemRef: function itemRef(ref) {\n          if (!ref) return;\n\n          // Save a reference to each input field\n          _this3[ref.name + 'Input'] = ref;\n        }\n      };\n    }\n  }]);\n\n  return TimeInput;\n}(_react.Component);\n\nexports.default = TimeInput;\n\n\nTimeInput.defaultProps = {\n  maxDetail: 'minute'\n};\n\nTimeInput.propTypes = {\n  isClockOpen: _propTypes2.default.bool,\n  locale: _propTypes2.default.string,\n  maxDetail: _propTypes2.default.oneOf(allViews),\n  maxTime: _propTypes3.isTime,\n  minTime: _propTypes3.isTime,\n  onChange: _propTypes2.default.func,\n  required: _propTypes2.default.bool,\n  value: _propTypes2.default.oneOfType([_propTypes3.isTime, _propTypes2.default.instanceOf(Date)])\n};"]},"metadata":{},"sourceType":"script"}